{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Nicole\\\\OneDrive\\\\PPC-updated\\\\Screens\\\\Home.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport LayoutAnimation from \"react-native-web/dist/exports/LayoutAnimation\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport YellowBox from \"react-native-web/dist/exports/YellowBox\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport DialogInput from 'react-native-dialog-input';\nimport { Button } from 'react-native-elements';\nimport RNPickerSelect from 'react-native-picker-select';\nimport * as Location from 'expo-location';\nimport * as Permissions from 'expo-permissions';\nimport SettingsBarImage from \"./../SettingsBarImage\";\nimport FuelEcoSettings from \"./../Screens/Settings\";\n\nvar Home = function (_Component) {\n  _inherits(Home, _Component);\n\n  var _super = _createSuper(Home);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      station: [],\n      location: null,\n      expandedItem: false,\n      expandedPrice: 0,\n      isUpdatePriceDialogVisible: false,\n      fuelType: '91',\n      worthIt: [],\n      apiUrl: 'http://springmavenexample-env.eba-yxucyrmu.ap-southeast-2.elasticbeanstalk.com/',\n      worthItModalVisible: false,\n      cheapStationName: null,\n      cheapPrice: 0,\n      closePrice: 0,\n      showWorthItSummary: false,\n      showWorthItLoad: true,\n      firstTimeModalVisible: false,\n      vehicleType: '',\n      vehicleClass: '',\n      tankFill: ''\n    };\n\n    _this.getInitalData = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(_this.getLocationData());\n\n            case 2:\n              _this.getStationData();\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getSettings = function _callee2() {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"vehicleType\", function (err, result) {\n                if (!err & result != null) {\n                  console.log(\"Setting: \", result);\n\n                  _this.setState({\n                    vehicleType: result\n                  });\n                }\n              }));\n\n            case 2:\n              _context2.next = 4;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"vehicleClass\", function (err, result) {\n                if (!err & result != null) {\n                  console.log(\"Setting: \", result);\n\n                  _this.setState({\n                    vehicleClass: result\n                  });\n                }\n              }));\n\n            case 4:\n              _context2.next = 6;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"fuelEcoId\", function (err, result) {\n                if (!err & result != null) {\n                  console.log(\"Setting: \", result);\n\n                  _this.setState({\n                    fuelEcoId: result\n                  });\n                }\n              }));\n\n            case 6:\n              _context2.next = 8;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"tankFill\", function (err, result) {\n                if (!err & result != null) {\n                  console.log(\"Setting: \", result);\n\n                  _this.setState({\n                    tankFill: result\n                  });\n                }\n              }));\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getLocationData = function _callee3() {\n      var _await$Permissions$as, status, locationErrorMessage, location, _location$coords, latitude, longitude;\n\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.LOCATION));\n\n            case 2:\n              _await$Permissions$as = _context3.sent;\n              status = _await$Permissions$as.status;\n\n              if (status !== 'granted') {\n                locationErrorMessage = 'Permission to access location was denied';\n                ToastAndroid.show(\"Error: \" + locationErrorMessage, ToastAndroid.SHORT);\n              }\n\n              _context3.next = 7;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({\n                accuracy: Location.Accuracy.BestForNavigation\n              }));\n\n            case 7:\n              location = _context3.sent;\n              _location$coords = location.coords, latitude = _location$coords.latitude, longitude = _location$coords.longitude;\n\n              _this.setState({\n                location: {\n                  latitude: latitude,\n                  longitude: longitude\n                }\n              });\n\n              _this.getStationData();\n\n            case 11:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getStationData = function _callee4() {\n      var response, json;\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              console.log(_this.state.apiUrl + 'view/' + _this.state.fuelType + '/8/-41.215136/174.800471');\n              response = fetch(_this.state.apiUrl + 'view/' + _this.state.fuelType + '/8/' + _this.state.location.latitude + '/' + _this.state.location.longitude);\n              _context4.t0 = _regeneratorRuntime;\n              _context4.next = 5;\n              return _regeneratorRuntime.awrap(response);\n\n            case 5:\n              _context4.t1 = _context4.sent.json();\n              _context4.next = 8;\n              return _context4.t0.awrap.call(_context4.t0, _context4.t1);\n\n            case 8:\n              json = _context4.sent;\n\n              _this.setState({\n                station: json\n              });\n\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.setWorthItModalVisible = function (visible) {\n      _this.setState({\n        worthItModalVisible: visible\n      });\n    };\n\n    _this.worthItPrep = function _callee5() {\n      return _regeneratorRuntime.async(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _this.getLocationData();\n\n              _context5.next = 3;\n              return _regeneratorRuntime.awrap(_this.getSettings());\n\n            case 3:\n              _this.setState(function (prevState) {\n                return {\n                  tankFill: prevState.tankFill.replace(new RegExp(\"\\\"\", \"g\"), \"\")\n                };\n              });\n\n              _this.setState({\n                worthIt: [],\n                showWorthItSummary: false,\n                showWorthItLoad: true\n              });\n\n            case 5:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getWorthIt = function _callee6() {\n      var response, json;\n      return _regeneratorRuntime.async(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return _regeneratorRuntime.awrap(_this.worthItPrep());\n\n            case 2:\n              response = fetch(_this.state.apiUrl + 'worthit/' + _this.state.location.latitude + '/' + _this.state.location.longitude + '/' + _this.state.fuelType + '/' + _this.state.fuelEcoId + '/' + _this.state.tankFill);\n              _context6.t0 = _regeneratorRuntime;\n              _context6.next = 6;\n              return _regeneratorRuntime.awrap(response);\n\n            case 6:\n              _context6.t1 = _context6.sent.json();\n              _context6.next = 9;\n              return _context6.t0.awrap.call(_context6.t0, _context6.t1);\n\n            case 9:\n              json = _context6.sent;\n\n              _this.setState({\n                worthIt: json\n              });\n\n              _this.setState({\n                worthIt: json,\n                cheapStationName: json[0].stationName,\n                cheapPrice: json[0].cost,\n                closePrice: json[1].cost,\n                showWorthItSummary: true,\n                showWorthItLoad: false\n              });\n\n              _this.setState({\n                showWorthItSummary: json[1].stationName != null ? true : false\n              });\n\n              console.log(_this.state.cheapStationName);\n\n            case 14:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.renderSeparator = function () {\n      return React.createElement(View, {\n        style: {\n          height: 1,\n          backgroundColor: \"#ffd520\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }\n      });\n    };\n\n    _this.onChangeLayout = function (stationID) {\n      LayoutAnimation.configureNext(LayoutAnimation.Presets.easeInEaseOut);\n\n      var array = _toConsumableArray(_this.state.station);\n\n      array.map(function (value, placeIndex) {\n        return placeIndex === stationID ? array[placeIndex][value] = !array[placeIndex][value] : array[placeIndex][value] = false;\n      });\n\n      _this.setState({\n        expandedItem: stationID\n      });\n    };\n\n    _this.sendInput = function (inputText) {\n      _this.setState({\n        isUpdatePriceDialogVisible: false\n      });\n\n      _this.updatePrice(inputText);\n\n      _this.getLocationData();\n\n      _this.setState({\n        expandedItem: false\n      });\n    };\n\n    _this.updatePrice = function _callee7(price) {\n      var response, result;\n      return _regeneratorRuntime.async(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              response = fetch(_this.state.apiUrl + '/update/' + _this.state.fuelType + '/' + _this.state.expandedItem + '/' + price);\n              _context7.t0 = _regeneratorRuntime;\n              _context7.next = 4;\n              return _regeneratorRuntime.awrap(response);\n\n            case 4:\n              _context7.t1 = _context7.sent.text();\n              _context7.next = 7;\n              return _context7.t0.awrap.call(_context7.t0, _context7.t1);\n\n            case 7:\n              result = _context7.sent;\n              result === true ? _this.showUpdateMessageToast(\"Successfully updated\") : _this.showUpdateMessageToast(\"Error. Did not update\");\n\n            case 9:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.showUpdateMessageToast = function (successful) {\n      ToastAndroid.show(successful, ToastAndroid.SHORT);\n    };\n\n    _this.renderItem = function (data, index) {\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 3\n        }\n      }, React.createElement(Text, {\n        style: styles.worthItlabel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 5\n        }\n      }, (index === 0 ? 'Cheapest' : 'Closest') + \" station: \"), data.item.stationName != null ? React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.worthItText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 9\n        }\n      }, data.item.stationName), React.createElement(Text, {\n        style: styles.worthItlabel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 9\n        }\n      }, \"Travel cost + \" + _this.state.tankFill + \"L Fill: \"), React.createElement(Text, {\n        style: styles.worthItText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 9\n        }\n      }, \"$\" + data.item.cost), React.createElement(Text, {\n        style: styles.worthItlabel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 9\n        }\n      }, \"Travel Time: \"), React.createElement(Text, {\n        style: styles.worthItText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 9\n        }\n      }, (data.item.timeS % 3600 / 60).toFixed(2) + \"min\")) : React.createElement(Text, {\n        style: styles.worthItText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 7\n        }\n      }, \"There is no price information in 8km from your location\"));\n    };\n\n    YellowBox.ignoreWarnings(['Warning: Failed child context type: Invalid child context `virtualizedCell.cellKey` of type `number` supplied to `CellRenderer`, expected `string`', 'Warning: Each child in a list should have a unique \"key\" prop']);\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getInitalData();\n      this.props.navigation.setParams({\n        vehicleType: this.state.vehicleType\n      });\n      this.checkFirstTime();\n      this.getSettings();\n    }\n  }, {\n    key: \"checkFirstTime\",\n    value: function checkFirstTime() {\n      var _this2 = this;\n\n      AsyncStorage.getItem(\"firstTime\", function (err, result) {\n        if (!err & result === null) {\n          _this2.setftModalVisible(true);\n\n          AsyncStorage.setItem(\"firstTime\", JSON.stringify(\"false\"));\n        }\n      });\n    }\n  }, {\n    key: \"setftModalVisible\",\n    value: function setftModalVisible(visible) {\n      this.setState({\n        firstTimeModalVisible: visible\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 9\n        }\n      }, React.createElement(RNPickerSelect, {\n        onValueChange: function onValueChange(value) {\n          return _this3.setState({\n            fuelType: value\n          }, console.log(value), _this3.props.navigation.setParams({\n            fuelType: value\n          }), _this3.getLocationData());\n        },\n        items: [{\n          label: '91',\n          value: '91'\n        }, {\n          label: '95',\n          value: '95'\n        }, {\n          label: '98',\n          value: '98'\n        }, {\n          label: 'Diesel',\n          value: 'Diesel'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }\n      })), React.createElement(FlatList, {\n        style: styles.list,\n        keyExtractor: function keyExtractor(x, i) {\n          return i;\n        },\n        data: this.state.station,\n        ItemSeparatorComponent: this.renderSeparator,\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item,\n              index = _ref.index;\n          return React.createElement(View, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 13\n            }\n          }, React.createElement(TouchableWithoutFeedback, {\n            onPress: function onPress() {\n              _this3.state.expandedItem === item.stationID ? _this3.setState({\n                expandedItem: false\n              }) : _this3.onChangeLayout(item.stationID);\n              {\n                _this3.setState({\n                  expandedPrice: item.price\n                });\n              }\n            },\n            style: {\n              height: 50,\n              justifyContent: 'center',\n              alignItems: 'center',\n              backgroundColor: '#ffecb3'\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }\n          }, React.createElement(Text, {\n            style: styles.item,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }\n          }, \"$\" + (Math.round(item.price * 100) / 100).toFixed(2) + \"  |  \" + item.stationName)), React.createElement(View, {\n            style: {\n              height: _this3.state.expandedItem === item.stationID ? null : 0,\n              overflow: 'hidden',\n              paddingHorizontal: _this3.state.expandedItem === item.stationID ? 10 : 0,\n              paddingBottom: _this3.state.expandedItem === item.stationID ? 20 : 0\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }\n          }, React.createElement(Text, {\n            style: _objectSpread({}, styles.expandedItem),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }\n          }, \" \", item.address), React.createElement(Button, {\n            titleStyle: {\n              color: 'black'\n            },\n            buttonStyle: {\n              backgroundColor: '#ffd520'\n            },\n            title: \"Update Price\",\n            onPress: function onPress() {\n              return _this3.setState({\n                isUpdatePriceDialogVisible: true\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }\n          }), React.createElement(Text, {\n            style: _objectSpread({}, styles.lastUpdate),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }\n          }, \" \", \"Last updated: \" + item.lastUpdate.slice(0, item.lastUpdate.indexOf(\",\")))));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 9\n        }\n      }), React.createElement(View, {\n        style: styles.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 9\n        }\n      }, React.createElement(Button, {\n        titleStyle: {\n          color: 'black'\n        },\n        buttonStyle: {\n          backgroundColor: '#85bb65'\n        },\n        title: \"Worth It?\",\n        onPress: function onPress() {\n          _this3.setWorthItModalVisible(true);\n\n          _this3.getWorthIt();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }\n      })), React.createElement(DialogInput, {\n        isDialogVisible: this.state.isUpdatePriceDialogVisible,\n        title: \"Current price: $ \" + (Math.round(this.state.expandedPrice * 100) / 100).toFixed(2),\n        message: \"Enter new price\",\n        hintInput: \"NEW PRICE\",\n        textInputProps: {\n          keyboardType: 'numeric'\n        },\n        submitInput: function submitInput(inputText) {\n          _this3.sendInput(inputText);\n        },\n        closeDialog: function closeDialog() {\n          _this3.setState({\n            isUpdatePriceDialogVisible: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 9\n        }\n      }), React.createElement(Modal, {\n        animationType: \"slide\",\n        transparent: false,\n        visible: this.state.worthItModalVisible,\n        onRequestClose: function onRequestClose() {\n          return _this3.closeModal();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.centeredView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.worthItModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.worthItTitleText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 15\n        }\n      }, \"Worth It: \", this.state.fuelType), this.state.showWorthItLoad ? React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: \"#ffd520\",\n        style: styles.worthItLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 45\n        }\n      }) : null, React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 15\n        }\n      }, React.createElement(FlatList, {\n        data: this.state.worthIt,\n        ItemSeparatorComponent: this.renderSeparator,\n        renderItem: function renderItem(item) {\n          return _this3.renderItem(item, item.index);\n        },\n        keyExtractor: function keyExtractor(item) {\n          return item.stationName;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 17\n        }\n      })), React.createElement(View, {\n        style: styles.worthItSummary,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 15\n        }\n      }, this.state.showWorthItSummary ? React.createElement(Text, {\n        style: styles.worthItSummaryText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 50\n        }\n      }, \"You will save $\", (this.state.closePrice - this.state.cheapPrice).toFixed(2), \" by going to \", this.state.cheapStationName) : null), React.createElement(Button, {\n        title: \"Close\",\n        onPress: function onPress() {\n          return _this3.setWorthItModalVisible(false);\n        },\n        titleStyle: {\n          color: 'black'\n        },\n        buttonStyle: {\n          backgroundColor: '#ffd520'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 15\n        }\n      })))), React.createElement(Modal, {\n        animationType: \"slide\",\n        transparent: true,\n        visible: this.state.firstTimeModalVisible,\n        onRequestClose: function onRequestClose() {\n          alert(\"Modal has been closed.\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.firstTimecontainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.ftModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.ftIntroText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: styles.ftIntroText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 17\n        }\n      }, \"Welcome\"), React.createElement(Text, {\n        style: styles.ftIntroText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 17\n        }\n      }, \"We need some information from you to help us give you more accurate information.\")), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 15\n        }\n      }, React.createElement(FuelEcoSettings, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 17\n        }\n      })), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: styles.ftLabelText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 19\n        }\n      }, \"This data will be used to get the average fuel consumption for your car.\"), React.createElement(Text, {\n        style: styles.ftLabelText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 19\n        }\n      }, \"Your perfered tank fill amount will be used to give you a more relevant calculation\"))), React.createElement(View, {\n        style: styles.ftButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }\n      }, React.createElement(Button, {\n        title: \"Close\",\n        onPress: function onPress() {\n          return _this3.setftModalVisible(!_this3.state.firstTimeModalVisible);\n        },\n        titleStyle: {\n          color: 'black'\n        },\n        buttonStyle: {\n          backgroundColor: '#ffd520'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 17\n        }\n      })))));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nHome.navigationOptions = function (_ref2) {\n  var navigation = _ref2.navigation;\n  var _navigation$state$par = navigation.state.params,\n      params = _navigation$state$par === void 0 ? {} : _navigation$state$par;\n  return {\n    headerTitle: 'Nearby prices for ' + params.fuelType,\n    headerRight: function headerRight() {\n      return React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigation.navigate('SettingsScreen');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }\n      }, React.createElement(SettingsBarImage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }\n      }));\n    }\n  };\n};\n\nexport { Home as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  item: {\n    padding: 20,\n    backgroundColor: 'white',\n    fontSize: 18,\n    fontFamily: 'opensans-regular'\n  },\n  expandedItem: {\n    fontSize: 15,\n    paddingBottom: 5,\n    fontFamily: 'opensans-light'\n  },\n  lastUpdate: {\n    fontSize: 12,\n    textAlign: 'right'\n  },\n  list: {\n    paddingVertical: 4,\n    margin: 5,\n    backgroundColor: \"#fff\"\n  },\n  worthItTitleText: {\n    width: '100%',\n    textAlignVertical: 'center',\n    fontSize: 25,\n    fontFamily: 'opensans-bold',\n    padding: 10\n  },\n  worthItText: {\n    width: '100%',\n    textAlignVertical: 'center',\n    fontSize: 15,\n    paddingBottom: 10,\n    fontFamily: 'opensans-italic'\n  },\n  worthItlabel: {\n    textAlignVertical: 'center',\n    fontSize: 20,\n    paddingBottom: 5,\n    fontFamily: 'opensans-regular'\n  },\n  centeredView: {\n    flex: 1,\n    alignItems: \"center\",\n    marginTop: 10,\n    justifyContent: \"center\"\n  },\n  worthItModal: {\n    margin: 10,\n    backgroundColor: \"white\",\n    alignItems: \"center\"\n  },\n  button: {\n    padding: 10,\n    marginBottom: 1\n  },\n  worthItSummary: {\n    marginBottom: 15,\n    padding: 5\n  },\n  worthItSummaryText: {\n    backgroundColor: '#85bb65',\n    fontSize: 20,\n    fontFamily: 'opensans-regular'\n  },\n  firstTimecontainer: {\n    marginTop: 15,\n    flex: 1,\n    margin: 10,\n    backgroundColor: \"white\"\n  },\n  ftLabelText: {\n    fontSize: 16,\n    fontFamily: 'opensans-italic',\n    paddingTop: 20\n  },\n  ftIntroText: {\n    fontSize: 18,\n    fontFamily: 'opensans-regular',\n    alignItems: \"center\",\n    paddingBottom: 5\n  },\n  ftModal: {\n    margin: 10\n  },\n  ftButton: {\n    paddingTop: 10,\n    marginBottom: 1\n  },\n  worthItLoading: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["C:/Users/Nicole/OneDrive/PPC-updated/Screens/Home.js"],"names":["React","Component","DialogInput","Button","RNPickerSelect","Location","Permissions","SettingsBarImage","FuelEcoSettings","Home","props","state","station","location","expandedItem","expandedPrice","isUpdatePriceDialogVisible","fuelType","worthIt","apiUrl","worthItModalVisible","cheapStationName","cheapPrice","closePrice","showWorthItSummary","showWorthItLoad","firstTimeModalVisible","vehicleType","vehicleClass","tankFill","getInitalData","getLocationData","getStationData","getSettings","AsyncStorage","getItem","err","result","console","log","setState","fuelEcoId","askAsync","LOCATION","status","locationErrorMessage","ToastAndroid","show","SHORT","getCurrentPositionAsync","accuracy","Accuracy","BestForNavigation","coords","latitude","longitude","response","fetch","json","setWorthItModalVisible","visible","worthItPrep","prevState","replace","RegExp","getWorthIt","stationName","cost","renderSeparator","height","backgroundColor","onChangeLayout","stationID","LayoutAnimation","configureNext","Presets","easeInEaseOut","array","map","value","placeIndex","sendInput","inputText","updatePrice","price","text","showUpdateMessageToast","successful","renderItem","data","index","styles","worthItlabel","item","worthItText","timeS","toFixed","YellowBox","ignoreWarnings","navigation","setParams","checkFirstTime","setftModalVisible","setItem","JSON","stringify","container","label","list","x","i","justifyContent","alignItems","Math","round","overflow","paddingHorizontal","paddingBottom","address","color","lastUpdate","slice","indexOf","button","keyboardType","closeModal","centeredView","worthItModal","worthItTitleText","worthItLoading","worthItSummary","worthItSummaryText","alert","firstTimecontainer","ftModal","ftIntroText","ftLabelText","ftButton","navigationOptions","params","headerTitle","headerRight","navigate","StyleSheet","create","flex","padding","fontSize","fontFamily","textAlign","paddingVertical","margin","width","textAlignVertical","marginTop","marginBottom","paddingTop","position","left","right","top","bottom"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport { StyleSheet, Text, View, FlatList, TouchableWithoutFeedback, LayoutAnimation, ToastAndroid,\r\n   Modal, ActivityIndicator, YellowBox, AsyncStorage, TouchableOpacity, } from 'react-native';\r\nimport DialogInput from 'react-native-dialog-input';\r\nimport { Button } from 'react-native-elements';\r\nimport RNPickerSelect from 'react-native-picker-select';\r\nimport * as Location from 'expo-location';\r\nimport * as Permissions from 'expo-permissions';\r\nimport SettingsBarImage from './../SettingsBarImage';\r\nimport FuelEcoSettings from './../Screens/Settings';\r\n\r\nexport default class Home extends Component{\r\n  state = {\r\n    station: [],\r\n    location: null,\r\n    expandedItem: false,\r\n    expandedPrice: 0,\r\n    isUpdatePriceDialogVisible: false,\r\n    fuelType: '91',\r\n\r\n    //For the Worth It function, set default states\r\n    worthIt: [],\r\n    apiUrl: 'http://springmavenexample-env.eba-yxucyrmu.ap-southeast-2.elasticbeanstalk.com/',\r\n    worthItModalVisible: false,\r\n    cheapStationName: null,\r\n    cheapPrice: 0,\r\n    closePrice: 0,\r\n    showWorthItSummary: false,\r\n    showWorthItLoad: true,\r\n\r\n    //For the welcome screen, set default states\r\n    firstTimeModalVisible: false,\r\n    vehicleType: '',\r\n    vehicleClass: '',\r\n    tankFill: '',\r\n  }\r\n\r\n  constructor(props){\r\n    super(props);\r\n\r\n    //Ignore the warnings, it won't display these warnings in the app\r\n    YellowBox.ignoreWarnings([\r\n        'Warning: Failed child context type: Invalid child context `virtualizedCell.cellKey` of type `number` supplied to `CellRenderer`, expected `string`',\r\n        'Warning: Each child in a list should have a unique \"key\" prop'\r\n    ])\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.getInitalData();\r\n    \r\n    this.props.navigation.setParams({\r\n      vehicleType: this.state.vehicleType,\r\n    });\r\n\r\n    //AsyncStorage.clear();\r\n    this.checkFirstTime();\r\n    this.getSettings();\r\n  }\r\n\r\n  getInitalData = async () => {\r\n    await this.getLocationData();\r\n    this.getStationData();\r\n  }\r\n\r\n  checkFirstTime(){\r\n    AsyncStorage.getItem(\"firstTime\", (err, result) => {\r\n      if (!err & result === null) { \r\n        this.setftModalVisible(true); \r\n        AsyncStorage.setItem(\"firstTime\", JSON.stringify(\"false\"));}\r\n    });    \r\n  }\r\n\r\n  //Get the items selected in the settings page\r\n  getSettings = async () => {\r\n    await AsyncStorage.getItem(\"vehicleType\", (err, result) => {\r\n        if (!err & result != null )  { console.log(\"Setting: \", result); this.setState({ vehicleType: result}) }});\r\n    await AsyncStorage.getItem(\"vehicleClass\", (err, result) => {\r\n        if (!err & result != null ) { console.log(\"Setting: \", result); this.setState({ vehicleClass: result}) }});\r\n    await AsyncStorage.getItem(\"fuelEcoId\", (err, result) => {\r\n        if (!err & result != null ) { console.log(\"Setting: \", result); this.setState({ fuelEcoId: result}) }});\r\n    await AsyncStorage.getItem(\"tankFill\", (err, result) => {\r\n        if (!err & result != null ) { console.log(\"Setting: \", result); this.setState({ tankFill: result})  }});\r\n  }\r\n  \r\n  \r\n  setftModalVisible(visible) {\r\n    this.setState({ firstTimeModalVisible: visible });\r\n  }\r\n\r\n  //Display the home page title and set the settings navigation to navigate to the Settings page\r\n  static navigationOptions = ({navigation}) => {\r\n    const { params = {} } = navigation.state\r\n    return {\r\n      headerTitle: 'Nearby prices for ' + params.fuelType,\r\n      headerRight: ()=> \r\n        <TouchableOpacity onPress={() => navigation.navigate('SettingsScreen')}>\r\n          <SettingsBarImage />\r\n        </TouchableOpacity>\r\n    }\r\n  }\r\n\r\n //Location function\r\n getLocationData = async () => {\r\n   let { status } = await Permissions.askAsync(Permissions.LOCATION);\r\n   if (status !== 'granted') {\r\n     const locationErrorMessage = 'Permission to access location was denied';\r\n     ToastAndroid.show(\"Error: \" + locationErrorMessage, ToastAndroid.SHORT);\r\n   }\r\n\r\n   let location = await Location.getCurrentPositionAsync({accuracy:Location.Accuracy.BestForNavigation});\r\n   const { latitude , longitude } = location.coords\r\n   this.setState({ location: {latitude, longitude}});\r\n   this.getStationData();\r\n };\r\n\r\n  getStationData = async () => {\r\n    console.log(this.state.apiUrl + 'view/' + this.state.fuelType + '/8/-41.215136/174.800471')\r\n    const response = fetch(this.state.apiUrl + 'view/' + this.state.fuelType + '/8/' + this.state.location.latitude + '/' + this.state.location.longitude );\r\n    const json = await (await response).json();\r\n    this.setState({ station: json});\r\n  }\r\n\r\n  setWorthItModalVisible = (visible) => {\r\n    this.setState({ worthItModalVisible: visible});\r\n  }\r\n\r\n  worthItPrep = async () => {\r\n    this.getLocationData();\r\n    await this.getSettings();\r\n    this.setState(prevState => ({tankFill: prevState.tankFill.replace(new RegExp(\"\\\"\", \"g\"), \"\")}));\r\n    this.setState({ worthIt: [], showWorthItSummary: false, showWorthItLoad: true, });\r\n  }\r\n\r\n  //Worth It function\r\n  getWorthIt = async () => {\r\n    await this.worthItPrep();\r\n    const response = fetch(this.state.apiUrl + 'worthit/' + this.state.location.latitude + '/' + this.state.location.longitude + '/' + this.state.fuelType + '/' + this.state.fuelEcoId + '/' + this.state.tankFill);\r\n    const json = await (await response).json();\r\n    this.setState({ worthIt: json});\r\n    this.setState({ \r\n      worthIt: json,\r\n      cheapStationName: json[0].stationName,\r\n      cheapPrice: json[0].cost,\r\n      closePrice: json[1].cost,\r\n      showWorthItSummary: true,\r\n      showWorthItLoad: false,\r\n    });\r\n    this.setState({ showWorthItSummary: json[1].stationName != null ? true : false })\r\n    console.log(this.state.cheapStationName);\r\n  }\r\n\r\n  renderSeparator = () => {\r\n    return (<View style={{ height: 1, backgroundColor: \"#ffd520\", }} />);\r\n  };\r\n\r\n  onChangeLayout = stationID => {\r\n    LayoutAnimation.configureNext\r\n    (LayoutAnimation.Presets.easeInEaseOut);\r\n    const array = [...this.state.station];\r\n    array.map((value, placeIndex) =>\r\n        placeIndex === stationID\r\n            ? (array[placeIndex][value] = !array[placeIndex][value])\r\n            : (array[placeIndex][value] = false)\r\n        );\r\n    this.setState({ expandedItem: stationID });\r\n  };\r\n\r\n  sendInput = inputText =>{\r\n    this.setState({ isUpdatePriceDialogVisible: false })\r\n    this.updatePrice(inputText);\r\n    this.getLocationData();\r\n    this.setState({ expandedItem: false })\r\n  }\r\n\r\n  //Update price function and display toast messages\r\n  updatePrice = async (price) => {\r\n    const response = fetch(this.state.apiUrl + '/update/' + this.state.fuelType + '/' + this.state.expandedItem + '/' + price);\r\n    const result = await (await response).text();\r\n    (result === true) ? this.showUpdateMessageToast(\"Successfully updated\") : this.showUpdateMessageToast(\"Error. Did not update\");\r\n  }\r\n  \r\n  showUpdateMessageToast = (successful) => {\r\n      ToastAndroid.show(successful, ToastAndroid.SHORT);\r\n  }\r\n\r\n  //Display the Worth It function\r\n  renderItem = (data,index) => \r\n  <View>\r\n    <Text style={styles.worthItlabel}>{`${(index===0) ? 'Cheapest' : 'Closest'} station: `}</Text>\r\n    {\r\n      data.item.stationName != null ? \r\n      <View>\r\n        <Text style={styles.worthItText}>{data.item.stationName}</Text>\r\n        <Text style={styles.worthItlabel}>{`Travel cost + ${this.state.tankFill}L Fill: `}</Text>\r\n        <Text style={styles.worthItText}>{`$${data.item.cost}`}</Text>\r\n        <Text style={styles.worthItlabel}>{`Travel Time: `}</Text>\r\n        <Text style={styles.worthItText}>{`${(data.item.timeS % 3600 / 60).toFixed(2)}min`}</Text>\r\n      </View>\r\n      :\r\n      <Text style={styles.worthItText}>{`There is no price information in 8km from your location`}</Text>    \r\n    }  \r\n    </View>\r\n\r\n  render () {\r\n    return(\r\n      <View style={styles.container} >\r\n        \r\n        <View>\r\n          <RNPickerSelect\r\n            onValueChange={(value) => this.setState({fuelType: value},\r\n              console.log(value),\r\n              this.props.navigation.setParams({fuelType: value}),\r\n              this.getLocationData())}\r\n            items={[\r\n                { label: '91', value: '91' },\r\n                { label: '95', value: '95' },\r\n                { label: '98', value: '98' },\r\n                { label: 'Diesel', value: 'Diesel' }]}/>\r\n        </View>\r\n\r\n        {/* display list */}          \r\n        <FlatList\r\n          style={styles.list}\r\n          keyExtractor={(x,i) => i}\r\n          data={this.state.station}\r\n          ItemSeparatorComponent={this.renderSeparator}\r\n\r\n          renderItem={({item, index}) => (\r\n            <View>\r\n\r\n              <TouchableWithoutFeedback onPress={() => {\r\n                (this.state.expandedItem === item.stationID) ? this.setState({ expandedItem: false}) : this.onChangeLayout(item.stationID);\r\n                {this.setState({ expandedPrice: item.price})}}}\r\n                style={{\r\n                  height: 50,\r\n                  justifyContent: 'center',\r\n                  alignItems: 'center',\r\n                  backgroundColor: '#ffecb3'}}>\r\n                <Text style={styles.item}>\r\n                  {`$${(Math.round(item.price * 100) / 100).toFixed(2)}  |  ${item.stationName}` }\r\n                </Text>\r\n              </TouchableWithoutFeedback>\r\n\r\n              <View\r\n                style={{\r\n                    height: (this.state.expandedItem === item.stationID) ? null : 0,\r\n                    overflow: 'hidden',\r\n                    paddingHorizontal:(this.state.expandedItem === item.stationID) ? 10 : 0,\r\n                    paddingBottom:(this.state.expandedItem === item.stationID) ? 20 : 0 }}>\r\n                <Text style={{...styles.expandedItem}}> {item.address}</Text>\r\n\r\n                <Button \r\n                  titleStyle={{ color: 'black' }} \r\n                  buttonStyle={{backgroundColor: '#ffd520'}} \r\n                  title='Update Price' \r\n                  onPress={() => this.setState({ isUpdatePriceDialogVisible: true})}/>\r\n\r\n                <Text style={{...styles.lastUpdate}}> {`Last updated: ${item.lastUpdate.slice(0, item.lastUpdate.indexOf(\",\"))}`}</Text>\r\n              </View>\r\n\r\n            </View>\r\n          )}/>\r\n\r\n        {/* worth it button */}\r\n        <View style={styles.button}>\r\n          <Button titleStyle={{ color: 'black' }} buttonStyle={{backgroundColor: '#85bb65'}}\r\n              title=\"Worth It?\"\r\n              onPress = {() => {this.setWorthItModalVisible(true); this.getWorthIt(); }}\r\n            />\r\n        </View>\r\n\r\n        {/* update price dialog   */}\r\n        <DialogInput isDialogVisible={this.state.isUpdatePriceDialogVisible}\r\n          title={\"Current price: $ \" + (Math.round(this.state.expandedPrice * 100) / 100).toFixed(2)}\r\n          message={\"Enter new price\"}\r\n          hintInput ={\"NEW PRICE\"}\r\n          textInputProps={{keyboardType:'numeric'}}\r\n          submitInput={ (inputText) => {this.sendInput(inputText)} }\r\n          closeDialog={ () => {this.setState({ isUpdatePriceDialogVisible: false })}}>\r\n        </DialogInput>\r\n\r\n        {/* worth it modal */} \r\n        <Modal\r\n          animationType=\"slide\"\r\n          transparent={false}\r\n          visible = {this.state.worthItModalVisible}\r\n          onRequestClose={() => this.closeModal()}>\r\n          <View style={styles.centeredView}>\r\n            <View style={styles.worthItModal}>\r\n\r\n              <Text style = {styles.worthItTitleText}>Worth It: {this.state.fuelType}</Text>\r\n              {this.state.showWorthItLoad ? <ActivityIndicator size=\"large\" color=\"#ffd520\" style={styles.worthItLoading}/> : null }\r\n              <View style={styles.container}>\r\n                <FlatList\r\n                  data= {this.state.worthIt}\r\n                  ItemSeparatorComponent = {this.renderSeparator}\r\n                  renderItem= {item=> this.renderItem(item, item.index)}\r\n                  keyExtractor= {item=>item.stationName}/>\r\n              </View>\r\n\r\n              <View style={styles.worthItSummary}>\r\n                {this.state.showWorthItSummary ? <Text style={styles.worthItSummaryText}>You will save ${(this.state.closePrice - this.state.cheapPrice).toFixed(2)} by going to {this.state.cheapStationName}</Text> : null}\r\n              </View>\r\n\r\n              <Button\r\n                  title=\"Close\"\r\n                  onPress = {() => this.setWorthItModalVisible(false)}\r\n                  titleStyle={{ color: 'black' }}\r\n                  buttonStyle={{backgroundColor: '#ffd520'}}/>\r\n\r\n            </View>\r\n          </View>\r\n        </Modal>\r\n        \r\n        {/* first time modal */}\r\n        <Modal\r\n            animationType={\"slide\"}\r\n            transparent={true}\r\n            visible={this.state.firstTimeModalVisible}\r\n            onRequestClose={() => {\r\n              alert(\"Modal has been closed.\");}}>\r\n\r\n          <View style={styles.firstTimecontainer}>\r\n            <View style={styles.ftModal}>\r\n\r\n              <View style={styles.ftIntroText} >\r\n                <Text style={styles.ftIntroText}>Welcome</Text>\r\n                <Text style={styles.ftIntroText}>We need some information from you to help us give you more accurate information.</Text>\r\n              </View>\r\n\r\n              <View>\r\n                <FuelEcoSettings/>\r\n              </View>\r\n        \r\n              <View>\r\n                  <Text style={styles.ftLabelText}>This data will be used to get the average fuel consumption for your car.</Text>\r\n                  <Text style={styles.ftLabelText}>Your perfered tank fill amount will be used to give you a more relevant calculation</Text>\r\n              </View>\r\n              \r\n            </View>\r\n            <View style={styles.ftButton}>\r\n                <Button\r\n                  title=\"Close\"\r\n                  onPress = {() => this.setftModalVisible(!this.state.firstTimeModalVisible)}\r\n                  titleStyle={{ color: 'black' }}\r\n                  buttonStyle={{backgroundColor: '#ffd520'}}/>\r\n             </View>\r\n            </View>\r\n          </Modal>    \r\n\r\n        </View>\r\n    )};}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    //marginTop:15,\r\n    flex: 1,\r\n  },\r\n  item: {\r\n    padding:20,\r\n    backgroundColor: 'white',\r\n    fontSize: 18,\r\n    fontFamily: 'opensans-regular',\r\n  },\r\n  expandedItem: {\r\n    fontSize: 15,\r\n    paddingBottom: 5,\r\n    fontFamily: 'opensans-light',\r\n  },\r\n  lastUpdate: {\r\n    fontSize: 12,\r\n    textAlign: 'right'\r\n  },\r\n  list:{\r\n    paddingVertical: 4,\r\n    margin: 5,\r\n    backgroundColor: \"#fff\",\r\n  },\r\n  worthItTitleText: {\r\n    width:'100%',\r\n    textAlignVertical:'center',\r\n    fontSize: 25,\r\n    fontFamily: 'opensans-bold',\r\n    padding: 10,\r\n  },\r\n  worthItText: {\r\n    width:'100%',\r\n    textAlignVertical:'center',\r\n    fontSize: 15,\r\n    paddingBottom:10,\r\n    fontFamily: 'opensans-italic',\r\n  },\r\n  worthItlabel: {\r\n    textAlignVertical:'center',\r\n    fontSize: 20,\r\n    paddingBottom:5,\r\n    fontFamily: 'opensans-regular'\r\n  },\r\n  centeredView: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    marginTop: 10,\r\n    justifyContent: \"center\",\r\n  },\r\n  worthItModal: {\r\n    margin: 10,\r\n    backgroundColor: \"white\",\r\n    alignItems: \"center\",\r\n  },\r\n  button: {\r\n    padding: 10,\r\n    marginBottom: 1,\r\n  },\r\n  worthItSummary: {\r\n    marginBottom: 15,\r\n    padding: 5,\r\n  },\r\n  worthItSummaryText: {\r\n    backgroundColor: '#85bb65',\r\n    fontSize: 20,\r\n    fontFamily: 'opensans-regular',\r\n  }, \r\n  firstTimecontainer: {\r\n    marginTop:15,\r\n    flex: 1,\r\n    margin: 10,\r\n    backgroundColor: \"white\",\r\n  },\r\n  ftLabelText: {\r\n    fontSize: 16,\r\n    fontFamily: 'opensans-italic',\r\n    paddingTop: 20,\r\n  },\r\n  ftIntroText: {\r\n    fontSize: 18,\r\n    fontFamily: 'opensans-regular',\r\n    alignItems: \"center\",\r\n    paddingBottom: 5,\r\n  },\r\n  ftModal: {\r\n    margin: 10,\r\n  }, \r\n  ftButton: {\r\n    paddingTop: 10,\r\n    marginBottom: 1,\r\n  },\r\n  worthItLoading: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}